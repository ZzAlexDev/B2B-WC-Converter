#!/usr/bin/env python3
"""
test_docs_final.py
–§–∏–Ω–∞–ª—å–Ω—ã–π —Ç–µ—Å—Ç –Ω–∞–∑–≤–∞–Ω–∏–π –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤
"""

import sys
import os

sys.path.append(os.path.dirname(os.path.abspath(__file__)))

from data_processors.description_builder import DescriptionBuilder

print("üéØ –§–∏–Ω–∞–ª—å–Ω—ã–π —Ç–µ—Å—Ç –Ω–∞–∑–≤–∞–Ω–∏–π –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤")
print("=" * 50)

builder = DescriptionBuilder()

print("\n1. ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω—ã–µ –æ–∂–∏–¥–∞–Ω–∏—è –¥–ª—è —Ç–µ—Å—Ç–æ–≤—ã—Ö —Å–ª—É—á–∞–µ–≤:")
test_cases = [
    ('–ß–µ—Ä—Ç–µ–∂–∏', '–ö–æ–Ω–≤–µ–∫—Ç–æ—Ä —ç–ª–µ–∫—Ç—Ä–∏—á–µ—Å–∫–∏–π Ballu IP 54 BEC/CMR-2000', 
     '–ß–µ—Ä—Ç–µ–∂ –ö–æ–Ω–≤–µ–∫—Ç–æ—Ä —ç–ª–µ–∫—Ç—Ä–∏—á–µ—Å–∫–∏–π Ballu IP 54 BEC-CMR-2000'),
    
    ('–ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏', '–†—É–∫–æ—Å—É—à–∏–ª–∫–∞ Electrolux EHDA-2500', 
     '–ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –†—É–∫–æ—Å—É—à–∏–ª–∫–∞ Electrolux EHDA-2500'),
    
    ('–°–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã', '–ó–∞–≤–µ—Å–∞ –≤–æ–∑–¥—É—à–Ω–∞—è Ballu BHC-U15A-PS', 
     '–°–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç –ó–∞–≤–µ—Å–∞ –≤–æ–∑–¥—É—à–Ω–∞—è Ballu BHC-U15A-PS'),
    
    ('', '–¢–æ–≤–∞—Ä —Å –æ—á–µ–Ω—å –¥–ª–∏–Ω–Ω—ã–º –Ω–∞–∑–≤–∞–Ω–∏–µ–º –∫–æ—Ç–æ—Ä–æ–µ –Ω—É–∂–Ω–æ –æ–±—Ä–µ–∑–∞—Ç—å –ø–æ—Ç–æ–º—É —á—Ç–æ –æ–Ω–æ —Å–ª–∏—à–∫–æ–º –¥–ª–∏–Ω–Ω–æ–µ –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è', 
     '–î–æ–∫—É–º–µ–Ω—Ç –¢–æ–≤–∞—Ä —Å –æ—á–µ–Ω—å –¥–ª–∏–Ω–Ω—ã–º –Ω–∞–∑–≤–∞–Ω–∏–µ–º –∫–æ—Ç–æ—Ä–æ–µ –Ω—É–∂–Ω–æ –æ–±—Ä–µ–∑–∞—Ç—å'),
]

print("\n   –¢–µ—Å—Ç-–∫–µ–π—Å—ã:")
for i, (doc_type, product_name, expected) in enumerate(test_cases, 1):
    print(f"\n   {i}. –¢–∏–ø: '{doc_type}'")
    print(f"      –¢–æ–≤–∞—Ä: '{product_name}'")
    result = builder._create_readable_filename('', doc_type, product_name)
    
    # –°—Ä–∞–≤–Ω–∏–≤–∞–µ–º
    if result == expected:
        print(f"      ‚úÖ –†–µ–∑—É–ª—å—Ç–∞—Ç: '{result}'")
    else:
        print(f"      ‚ö†Ô∏è  –†–µ–∑—É–ª—å—Ç–∞—Ç: '{result}'")
        print(f"      –û–∂–∏–¥–∞–ª–æ—Å—å:   '{expected}'")

print("\n2. üéØ –†–µ–∞–ª—å–Ω—ã–µ –ø—Ä–∏–º–µ—Ä—ã –∏–∑ XLSX:")
real_examples = [
    ("–ö–æ–Ω–≤–µ–∫—Ç–æ—Ä —ç–ª–µ–∫—Ç—Ä–∏—á–µ—Å–∫–∏–π Ballu IP 54 BEC/CMR-2000", 
     "–ß–µ—Ä—Ç–µ–∂ –ö–æ–Ω–≤–µ–∫—Ç–æ—Ä —ç–ª–µ–∫—Ç—Ä–∏—á–µ—Å–∫–∏–π Ballu IP 54 BEC-CMR-2000"),
    
    ("–†—É–∫–æ—Å—É—à–∏–ª–∫–∞ Electrolux EHDA-2500", 
     "–ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –†—É–∫–æ—Å—É—à–∏–ª–∫–∞ Electrolux EHDA-2500"),
    
    ("–ó–∞–≤–µ—Å–∞ –≤–æ–∑–¥—É—à–Ω–∞—è Ballu BHC-U15A-PS", 
     "–°–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç –ó–∞–≤–µ—Å–∞ –≤–æ–∑–¥—É—à–Ω–∞—è Ballu BHC-U15A-PS"),
]

print("\n   –ß—Ç–æ –ø–æ–ª—É—á–∏—Ç—Å—è –Ω–∞ —Ä–µ–∞–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö:")
for product_name, expected in real_examples:
    # –¢–µ—Å—Ç–∏—Ä—É–µ–º —Ä–∞–∑–Ω—ã–µ —Ç–∏–ø—ã –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤
    for doc_type in ['–ß–µ—Ä—Ç–µ–∂–∏', '–ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏', '–°–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã']:
        result = builder._create_readable_filename('', doc_type, product_name)
        doc_base = builder._get_default_doc_name(doc_type)
        print(f"   ‚Ä¢ {doc_base}: {result}")

print("\n3. üìã –ò—Ç–æ–≥–æ–≤—ã–π —Ñ–æ—Ä–º–∞—Ç –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ –≤ –æ–ø–∏—Å–∞–Ω–∏–∏:")
print("   -----------------------------------------")
print("   <h3>–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è</h3>")
print("   <h4>–ß–µ—Ä—Ç–µ–∂–∏ –∏ —Å—Ö–µ–º—ã</h4>")
print("   <ul>")
print("   <li><img src=\"/wp-content/uploads/icons/pdf-icon.png\" ...>")
print("       <a href=\"...\">–ß–µ—Ä—Ç–µ–∂ –ù–∞–∑–≤–∞–Ω–∏–µ —Ç–æ–≤–∞—Ä–∞ (PDF)</a></li>")
print("   </ul>")
print("   <h4>–ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø–æ —ç–∫—Å–ø–ª—É–∞—Ç–∞—Ü–∏–∏</h4>")
print("   <ul>")
print("   <li><img src=\"/wp-content/uploads/icons/pdf-icon.png\" ...>")
print("       <a href=\"...\">–ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ù–∞–∑–≤–∞–Ω–∏–µ —Ç–æ–≤–∞—Ä–∞ (PDF)</a></li>")
print("   </ul>")

print("\n4. ‚úÖ –ü–ª—é—Å—ã —Ç–∞–∫–æ–≥–æ –ø–æ–¥—Ö–æ–¥–∞:")
print("   1. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–∏–¥–∏—Ç –∫ –∫–∞–∫–æ–º—É —Ç–æ–≤–∞—Ä—É –æ—Ç–Ω–æ—Å–∏—Ç—Å—è –¥–æ–∫—É–º–µ–Ω—Ç")
print("   2. –ï–¥–∏–Ω–æ–æ–±—Ä–∞–∑–∏–µ –∏–º–µ–Ω–æ–≤–∞–Ω–∏—è –≤—Å–µ—Ö –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤")
print("   3. –ü—Ä–æ—Å—Ç–æ—Ç–∞ –ø–æ–∏—Å–∫–∞ –∏ –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏")
print("   4. –î–µ—Ñ–∏—Å—ã –≤ –∞—Ä—Ç–∏–∫—É–ª–∞—Ö —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è (BEC-CMR-2000, EHDA-2500)")

print("\n" + "=" * 50)
print("üéâ –§–û–†–ú–ê–¢ –ü–û–î–¢–í–ï–†–ñ–î–ï–ù!")
print("   –î–æ–∫—É–º–µ–Ω—Ç—ã: '–¢–∏–ø –ù–∞–∑–≤–∞–Ω–∏–µ —Ç–æ–≤–∞—Ä–∞ (PDF)'")
print("   –ü—Ä–∏–º–µ—Ä: '–ß–µ—Ä—Ç–µ–∂ –ö–æ–Ω–≤–µ–∫—Ç–æ—Ä —ç–ª–µ–∫—Ç—Ä–∏—á–µ—Å–∫–∏–π Ballu IP 54 BEC-CMR-2000 (PDF)'")